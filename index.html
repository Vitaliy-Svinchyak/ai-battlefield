<!doctype html>
<html lang="">
<head>
    <meta charset="utf-8">
    <title>Show me your code</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/main.css">
    <link rel="apple-touch-icon icon" href="images/house.png">
</head>
<body>
<div id="menu">
    <div id="resources-1">
        <span class="food">0⠀⠀⠀</span>
        <span class="gold">0⠀⠀⠀</span>
    </div>
    <div class="fog-buttons">
        <button id="1-fog" class="active">1</button>
        <button id="0-fog">O</button>
        <button id="2-fog">2</button>
    </div>
    <div id="resources-2">
        <span class="food">0⠀⠀⠀</span>
        <span class="gold">0⠀⠀⠀</span>
    </div>
</div>
<div class="score">
    <div id="score-1">0</div>
    <div id="score-2">0</div>
</div>
<canvas id="canvas-field"></canvas>

<script type="module">
    "use strict"
    import GameFieldGenerator from "./core/GameFieldGenerator.js"
    import Engine from "./core/Engine.js"
    import Empty from "./core/entity/Empty.js"
    import ExampleAi from "./example/ExampleAi.js"
    import EmptyAi from "./example/EmptyAi.js"
    import AttackAi from "./example/AttackAi.js"

    window.gameSettings = {
        gameSpeed: 500,
        selectedTeamToView: 1
    }
    const map = GameFieldGenerator.gameMap(30, 30)
    map.fieldMap.get(8).set(8, new Empty())
    const game = new Engine(map)
    const ai1 = new AttackAi()
    const ai2 = new EmptyAi()
    game.onReady(() => {
        game.start(ai1, ai2)
    })


    document.getElementById('1-fog').addEventListener('click', () => {
        document.querySelectorAll('.fog-buttons .active')[0].classList.remove('active')
        document.getElementById('1-fog').classList.add('active')
        window.gameSettings.selectedTeamToView = 1
    })
    document.getElementById('0-fog').addEventListener('click', () => {
        document.querySelectorAll('.fog-buttons .active')[0].classList.remove('active')
        document.getElementById('0-fog').classList.add('active')
        window.gameSettings.selectedTeamToView = 0
    })
    document.getElementById('2-fog').addEventListener('click', () => {
        document.querySelectorAll('.fog-buttons .active')[0].classList.remove('active')
        document.getElementById('2-fog').classList.add('active')
        window.gameSettings.selectedTeamToView = 2
    })
</script>
</body>
</html>
